---
import Base from '../layouts/Base.astro';

const posts = await import.meta.glob('./posts/*.md');
---

<Base pageTitle="Blog">
  <div class="container">
    <h1>Blog</h1>
    <nav>
      <ul>
        <li><a href="/posts/post-1">First Post!</a></li>
        <li><a href="/posts/post-2">Second Post!</a></li>
        <li><a href="/posts/post-3">Third Post!</a></li>
      </ul>
    </nav>
  </div>
</Base>

<script>
  const posts = await import.meta.glob('./posts/*.md');
  for (const path in posts) {
    posts[path]().then(mod => console.log(path, mod));
  }
</script>
